# 拦截路由

拦截路由允许您在当前布局中从应用程序的其他部分加载路由。当您希望在不让用户切换到不同上下文的情况下显示路由的内容时，这种路由范式可能非常有用。

例如，在点击动态中的照片时，您可以在模态框中显示照片，覆盖动态。在这种情况下，Next.js 拦截了 `/photo/123` 路由，掩盖了 URL，并将其覆盖在 `/feed` 之上。

<figure><img src="../../.gitbook/assets/image (25).png" alt=""><figcaption></figcaption></figure>

然而，当通过点击可分享的 URL 或刷新页面来导航到照片时，应该呈现完整的照片页面，而不是模态框。不能发生路由拦截。

<figure><img src="../../.gitbook/assets/image (26).png" alt=""><figcaption></figcaption></figure>

### 约定

拦截路由可以通过 `(..)` 约定来定义，这与相对路径约定 `../` 类似，但用于段。

您可以使用：

* `(.)` 匹配同一级的段落
* `(..)` 匹配上一级的段落
* `(..)(..)` 匹配上两级的段落
* `(...)` 用于匹配根 `app` 目录中的段

例如，您可以通过创建一个 `(..)photo` 目录来拦截 `photo` 段，该段位于 `feed` 段内。

<figure><img src="../../.gitbook/assets/image (27).png" alt=""><figcaption></figcaption></figure>

> 请注意， `(..)` 约定是基于路由段，而不是文件系统。

### 示例

#### 模态框

拦截路由可以与并行路由一起使用，以创建模态。这使您能够解决构建模态时常见的挑战，例如：

* **通过 URL 共享**模态内容。
* 在页面刷新时**保留上下文**，而不是关闭模态框。
* **在向后导航时关闭模态框**，而不是返回到上一个路由。
* **在前进导航时重新打开模态框。**

考虑以下用户界面模式，用户可以通过客户端导航从图库打开照片模态，或直接从可分享的 URL 导航到照片页面：



<figure><img src="../../.gitbook/assets/image (28).png" alt=""><figcaption></figcaption></figure>

在上述示例中， `photo` 段的路径可以使用 `(..)` 匹配器，因为 `@modal`是一个插槽而不是一个段。这意味着 `photo` 路由仅比一个段级别高，尽管在文件系统中高出两个级别。

请参阅并行路由文档以获取逐步示例，或查看我们的图像库示例。

> 注意：
>
> * 其他示例可能包括在顶部导航栏中打开登录模态，同时也有一个专用的 `/login` 页面，或在侧边模态中打开购物车。

### 下一步

{% content-ref url="bing-xing-lu-you.md" %}
[bing-xing-lu-you.md](bing-xing-lu-you.md)
{% endcontent-ref %}





